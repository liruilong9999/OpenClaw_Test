# 用户管理系统需求

## 项目概述
实现一个完整的用户管理系统，包括用户注册、登录、权限控制、界面设计、数据管理和部署等功能。系统基于原有需求进行扩展，新增用户认证机制、角色-based权限系统、多样化界面交互、数据安全措施、日志记录、搜索与分页功能等。系统不使用数据库或第三方依赖，所有数据通过配置文件存储和读取。

## 具体要求
1. **代码文件路径**：代码文件放在 C:\Users\lrl\.openclaw\workspace\Projects\Pro1 下。

2. **工程管理**：使用CMake管理工程，确保兼容C++11以上和Qt5。

3. **版本控制**：添加.gitignore文件将生成文件（如build目录、临时文件）过滤。有重大更改（如新增功能模块）或者完成代码时提交git并推送。每次提交时包括详细的commit消息，描述变更内容。

4. **技术栈**：使用C++11以上+Qt5完成，QT和VS相关工具和依赖读取本地环境变量。代码使用UTF-8编码，确保跨平台兼容性。

5. **依赖与存储**：不要使用数据库或第三方依赖（如外部库）。文件保存读取统一使用配置文件（例如JSON或INI格式），存储用户数据、权限信息和日志。配置文件路径固定在软件根目录下，支持加密存储敏感数据（如密码使用哈希算法）。

6. **文档维护**：修改后对README.md文件维护，包括功能介绍（详细描述每个模块）、更新历史（按日期记录变更，如“2026-02-28: 新增用户注册和权限系统”）、安装指南和使用说明。README.md使用Markdown格式，并包含截图展示界面。

7. **用户管理核心功能**：
   - 用户增删改查：支持添加新用户、删除用户、修改用户信息（用户名、密码、邮箱、角色等）、查询用户列表。
   - 新增用户注册：提供注册界面，收集用户名、密码（两次确认）、邮箱等信息，检查用户名唯一性。
   - 新增用户登录：登录界面验证用户名和密码，支持记住密码功能（可选，使用加密存储）。
   - 角色权限系统：定义管理员权限（可管理所有用户，包括增删改查他人信息）和普通用户权限（仅查看/修改自身信息）。登录后根据角色显示不同界面或菜单。
   - 数据安全：密码使用单向哈希（如SHA-256）存储，防止明文泄露。
   - 操作日志：记录用户操作（如登录、注册、修改），存储在单独的日志配置文件中，支持查看日志界面（仅管理员可见）。

8. **界面设计与样式**：
   - 软件使用中文界面，确保所有文本、按钮、提示均为简体中文。
   - 界面样式：设计美观的用户界面，包括登录/注册页面、主界面（用户列表表格）、编辑对话框、权限设置面板等。使用QSS文件定义全局样式，如按钮圆角、颜色主题（蓝色调为主）、字体（微软雅黑，字号12-14）。
   - 资源管理：可以使用网上的图片（如图标、背景图），下载后存放在 C:\Users\lrl\.openclaw\workspace\Projects\Pro1\resource 目录下。界面中集成这些资源，例如登录页背景图、用户头像占位符。
   - 交互增强：添加搜索功能（在用户列表中按用户名/邮箱搜索）、分页显示（每页10条用户，支持上一页/下一页）、排序（按注册时间或用户名排序）、错误提示（QMessageBox显示，如“用户名已存在”）、进度条（数据加载时）。
   - 主题支持：支持浅色/深色主题切换，存储用户偏好在配置文件中。
   - 响应式设计：界面支持窗口缩放，自适应布局，使用QGridLayout或QVBoxLayout。

9. **附加功能**：
   - 忘记密码：提供邮箱验证重置密码功能（模拟发送邮件，实际通过控制台输出验证码）。
   - 用户个人信息页：普通用户可查看/编辑个人信息，如更改密码、更新邮箱。
   - 导出/导入：管理员可导出用户数据到CSV文件，或从CSV导入用户。
   - 国际化准备：虽主用中文，但代码中字符串使用tr()函数，便于未来多语言扩展。
   - 异常处理：全局捕获异常，显示友好错误消息，避免程序崩溃。
   - 帮助菜单：添加帮助文档界面，解释各功能使用。

10. **编译与测试**：完成代码后调用工具编译，直到编译通过。确保无警告和错误，支持Debug和Release模式。

11. **样式文件**：QSS要求写成一个单独文件（例如styles.qss），并在主程序中加载应用到整个应用。

12. **打包部署**：使用Qt自带工具windeployqt.exe打包对应动态库，形成可部署安装包。打包时包括资源目录和配置文件模板，确保安装包可在Windows上独立运行。

13. **验证与结束**：打包完成后，运行一次生成的可执行文件，测试核心功能（如注册、登录、管理用户），执行成功结束此次功能。如果有问题，记录在README.md的已知问题部分。